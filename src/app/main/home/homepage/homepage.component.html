<div class="container">
  <div class="sidebar">
    <ul id="projectList">
      <li><strong>My Projects</strong></li>
      <li *ngFor="let project of projects" (click)="selectProject(project)">
        {{ project.name }}
      </li>
    </ul>
  </div>
  <div class="topbar">
    <div class="search-bar">
      <input type="text" id="searchInput" placeholder="Search Projects..." [(ngModel)]="searchTerm">
    </div>
    <button id="addProjectBtn" (click)="openAddProjectModal()">Add Project</button>
  </div>
  
  <!-- Project details content -->
  <div class="content" *ngIf="selectedProject">
    <h2>{{ selectedProject.name }}</h2>
    <p><strong>Date:</strong> {{ selectedProject.date }}</p>
    <p><strong>Description:</strong> {{ selectedProject.description }}</p>
    
    <!-- Display uploaded files -->
    <div *ngIf="selectedProject.files && selectedProject.files.length">
      <h4>Files</h4>
      <ul>
        <li *ngFor="let file of selectedProject.files">{{ file.name }}</li>
      </ul>
    </div>
    
    <!-- Display uploaded images -->
    <div *ngIf="selectedProject.images && selectedProject.images.length">
      <h4>Images</h4>
      <ul>
        <li *ngFor="let image of selectedProject.images">{{ image.name }}</li>
      </ul>
    </div>
    
    <!-- Comment Section -->
    <div class="comment-section">
      <h3>Comments</h3>
      <textarea [(ngModel)]="newComment" placeholder="Add your comment..." rows="4" cols="50"></textarea>
      <button (click)="addComment()">Add Comment</button>
    </div>
    
    <!-- Display previous comments -->
    <div *ngIf="selectedProject.comments && selectedProject.comments.length">
      <h4>Previous Comments</h4>
      <ul>
        <li *ngFor="let comment of selectedProject.comments">{{ comment }}</li>
      </ul>
    </div>
  </div>

  <!-- Modal for Adding a New Project -->
  <div class="modal" *ngIf="isModalOpen" (click)="closeModal($event)">
    <div class="modal-content" (click)="$event.stopPropagation()">
      <h3>Add New Project</h3>
      <label for="projectName">Project Name:</label>
      <input type="text" [(ngModel)]="newProjectName" id="projectName" />
      
      <label for="projectDate">Date:</label>
      <input type="date" [(ngModel)]="newProjectDate" id="projectDate" />
      
      <label for="projectDescription">Description:</label>
      <textarea [(ngModel)]="newProjectDescription" id="projectDescription"></textarea>
      
      <!-- File upload for documents -->
      <label for="projectFiles">Upload Files:</label>
      <input type="file" (change)="onFileChange($event)" multiple accept=".pdf,.doc,.docx,.txt,.xls,.xlsx" id="projectFiles" />
      
      <!-- Image upload for pictures -->
      <label for="projectImages">Upload Images:</label>
      <input type="file" (change)="onImageChange($event)" multiple accept="image/*" id="projectImages" />
      
      <button (click)="saveProject()">Save Project</button>
      <button (click)="closeModal($event)">Cancel</button>
    </div>
  </div>
</div>
